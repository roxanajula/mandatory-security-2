doctype html
html(ng-app='CMS')
	head
		title= title
		link(rel='stylesheet', href='../bower_modules/bootstrap/dist/css/bootstrap.css')
		link(rel='stylesheet', href='../bower_modules/bootstrap/dist/css/bootstrap-theme.css')
		link(rel='stylesheet', href='../stylesheets/style.css')
	body
		include partials/mainmenu
		div.container

			div(ng-controller='userController')
					h2 Users
					table( ng-model='Users', ng-init='getUsers()' class='table table-bordered table-striped')
						thead
							td id
							td username
							td password
							td group
							td actions
						tbody

							tr( ng-repeat='user in Users')
								td {{ user._id }}
								td {{ user.username }}
								td {{ user.password }}
								td {{ user.group }}
								td
									a(class='btn btn-success', href='/admin/{{ user._id }}') Edit
									button(class='btn btn-success', ng-click='deleteUser( user._id )') Delete
					.jumbotron
						h2 Create user
						form
							div.form-group
								label(for='userName') Username
									input(type='text', class='form-control', id='userName', name='userName', placeholder='Username', ng-model='newuser.username', autofocus)

							div.form-group
								label(for='password') Password
									input(type='password', class='form-control', id='password', name='password', placeholder='Password', ng-model='newuser.password')
							div.form-group
								label(for='role') group
									input(type='text', class='form-control', id='group', name='group', placeholder='admin / user', ng-model='newuser.group')
							button( ng-click='createUser(newuser)', class='btn btn-small btn-primary') Create User



			script(type='text/javascript', src='../bower_modules/angular/angular.min.js')
			script(type='text/javascript', src='../js/app.module.js')
			script(type='text/javascript', src='../js/app.usercontroller.js')
			script(type='text/javascript', src='../js/app.userservice.js')
